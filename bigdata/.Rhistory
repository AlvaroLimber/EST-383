axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35)
pdf("g1.pdf")#0 abrir el pdf
plot(0,xlim=c(0,20),ylim=c(0,50),xlab="Eje X",ylab="Eje Y",axes = F,ann = F,type="n")
axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35) #1 crear los gráficos
dev.off() #2 cerrar el pdf
getwd()
pdf("g2.pdf")#0 abrir el pdf
plot(0,xlim=c(0,20),ylim=c(0,50),xlab="Eje X",ylab="Eje Y",axes = F,ann = F,type="n")
axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35) #1 crear los gráficos
plot(0,xlim=c(0,20),ylim=c(0,50),xlab="Eje X",ylab="Eje Y",axes = F,ann = F,type="n")
axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35,col="green") #1 crear los gráficos
dev.off() #2 cerrar el pdf
png("g3.png")
plot(0,xlim=c(0,20),ylim=c(0,50),xlab="Eje X",ylab="Eje Y",axes = F,ann = F,type="n")
axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35,col="green") #1 crear los gráficos
dev.off()
par(mfrow=c(2,1))
plot(0,xlim=c(0,20),ylim=c(0,50),xlab="Eje X",ylab="Eje Y",axes = F,ann = F,type="n")
axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35) #1 crear los gráficos
plot(0,xlim=c(0,20),ylim=c(0,50),xlab="Eje X",ylab="Eje Y",axes = F,ann = F,type="n")
axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35,col="green") #1 crear los gráficos
par(mfrow=c(2,2))
plot(0,xlim=c(0,20),ylim=c(0,50),xlab="Eje X",ylab="Eje Y",axes = F,ann = F,type="n")
axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35) #1 crear los gráficos
plot(0,xlim=c(0,20),ylim=c(0,50),xlab="Eje X",ylab="Eje Y",axes = F,ann = F,type="n")
axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35,col="green") #1 crear los gráficos
plot(0,xlim=c(0,20),ylim=c(0,50),xlab="Eje X",ylab="Eje Y",axes = F,ann = F,type="n")
axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35) #1 crear los gráficos
plot(0,xlim=c(0,20),ylim=c(0,50),xlab="Eje X",ylab="Eje Y",axes = F,ann = F,type="n")
axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35,col="green") #1 crear los gráficos
jpeg("g4.jpg")
par(mfrow=c(2,2))
plot(0,xlim=c(0,20),ylim=c(0,50),xlab="Eje X",ylab="Eje Y",axes = F,ann = F,type="n")
axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35) #1 crear los gráficos
plot(0,xlim=c(0,20),ylim=c(0,50),xlab="Eje X",ylab="Eje Y",axes = F,ann = F,type="n")
axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35,col="green") #1 crear los gráficos
plot(0,xlim=c(0,20),ylim=c(0,50),xlab="Eje X",ylab="Eje Y",axes = F,ann = F,type="n")
axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35) #1 crear los gráficos
plot(0,xlim=c(0,20),ylim=c(0,50),xlab="Eje X",ylab="Eje Y",axes = F,ann = F,type="n")
axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35,col="green") #1 crear los gráficos
dev.off()
jpeg("g4.jpg")
par(mfrow=c(2,2))
plot(0,xlim=c(0,20),ylim=c(0,50),xlab="Eje X",ylab="Eje Y",axes = F,ann = F,type="n")
axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35) #1 crear los gráficos
plot(0,xlim=c(0,20),ylim=c(0,50),xlab="Eje X",ylab="Eje Y",axes = F,ann = F,type="n")
axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35,col="green") #1 crear los gráficos
dev.off()
par(mfrow=c(2,2))
plot(0,xlim=c(0,20),ylim=c(0,50),xlab="Eje X",ylab="Eje Y",axes = F,ann = F,type="n")
axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35) #1 crear los gráficos
plot(0,xlim=c(0,20),ylim=c(0,50),xlab="Eje X",ylab="Eje Y",axes = F,ann = F,type="n")
axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35,col="green") #1 crear los gráficos
dev.off()
dev.off()
par(mfrow=c(2,2))
plot(0,xlim=c(0,20),ylim=c(0,50),xlab="Eje X",ylab="Eje Y",axes = F,ann = F,type="n")
axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35) #1 crear los gráficos
plot(0,xlim=c(0,20),ylim=c(0,50),xlab="Eje X",ylab="Eje Y",axes = F,ann = F,type="n")
axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35) #1 crear los gráficos
dev.off()
dev.off()
plot(0,xlim=c(0,20),ylim=c(0,50),xlab="Eje X",ylab="Eje Y",axes = F,ann = F,type="n")
axis(1)
axis(2,seq(0,50,5))
arrows(0,45,15,35) #1 crear los gráficos
?pdf
?png
rm(list=ls())
load(url('https://raw.githubusercontent.com/AlvaroLimber/EST-383/master/data/oct20.RData'))
names(computo)[18]<-"MAS"
rm(list=ls())
load(url('https://raw.githubusercontent.com/AlvaroLimber/EST-383/master/data/oct20.RData'))
names(computo)
names(computo)[18]<-"MAS"
names(computo)
#filtrado
head(computo)
View(computo)
computo$Elección
unique(computo$Elección)
#filtrado a una base de resultados de solo presidente y vicepresidente
head(computo)
unique(computo$Elección)
bdp<-computo[computo$Elección=="Presidente y Vicepresidente", ]
bdp<-computo[computo$Elección==unique(computo$Elección)[1], ]
sum(bdp$`Votos Válidos`)
sum(bdp$Inscritos)
### GGPLOT2
install.packages("ggplot2")
hist(rnorm(10000))
library(ggplot2)
plot(bdp$CC,bdp$MAS)
ggplot(bdp,aes(x=CC,y=MAS))+geom_point()
p1<-ggplot(bdp,aes(x=CC))
p1+geom_boxplot()
p1+geom_density()
p1+geom_histogram()
p2<-ggplot(bdp,aes(x=CC,y=MAS))
p2+geom_point()
p2+geom_line()
data.frame(x=2000:2020,y=rnorm(21,60,15))
aux<-data.frame(x=2000:2020,y=rnorm(21,60,15))
bdaux<-data.frame(x=2000:2020,y=rnorm(21,60,15))
ggplot(bdaux,aes(x=x,y=y))+geom_line()
head(bdp)
ggplot(bdp,aes(x=País))+geom_bar()
unique(bdp$País)
ggplot(bdp[bdp$País=="Bolivia",],aes(x=País))+geom_bar()
names(bdp)
ggplot(bdp[bdp$País=="Bolivia",],aes(x=Departamento))+geom_bar()
head(bdp)
View(bdp)
bdp$`Número municipio`
unique(bdp$`Número municipio`)
aggregate(bdp$MAS,by=list(bdp$Departamento,bdp$Provincia,bdp$Municipio),sum)
bdp<-bdp[bdp$País=="Bolivia",]
aggregate(bdp$MAS,by=list(bdp$Departamento,bdp$Provincia,bdp$Municipio),sum)
?aggregate
aggregate(bdp[,c("MAS","CC")],by=list(bdp$Departamento,bdp$Provincia,bdp$Municipio),sum)
names(bdp)
aggregate(bdp[,13:25],by=list(bdp$Departamento,bdp$Provincia,bdp$Municipio),sum)
bdmun<-aggregate(bdp[,13:25],by=list(bdp$Departamento,bdp$Provincia,bdp$Municipio),sum)
names(bdmun)
bdmun<-aggregate(bdp[,13:25],by=list(dep=bdp$Departamento,pro=bdp$Provincia,
mun=bdp$Municipio),sum)
names(bdmun)
ggplot(bdmun,aes(MAS,CC))+geom_point()
head(bdmun)
names(bdmun)
bdmun[,5:13]
bdmun[,5:13]/bdmun$`Votos Válidos`
(bdmun[,5:13]/bdmun$`Votos Válidos`)*100
bdmun[,5:13]<-(bdmun[,5:13]/bdmun$`Votos Válidos`)*100
ggplot(bdmun,aes(MAS,CC))+geom_point()
ggplot(bdmun,aes(MAS,FPV))+geom_point()
names(bdmun)
ggplot(bdmun,aes(MAS,PDC))+geom_point()
ggplot(bdmun,aes(MAS,CC))+geom_point()
ggplot(bdmun,aes(MAS,CC,colour=dep))+geom_point()
ggplot(bdmun,aes(MAS,CC,colour=dep,size=`Votos Válidos`))+geom_point()
ggplot(bdmun,aes(MAS,CC,shape=dep,size=`Votos Válidos`))+geom_point()
ggplot(bdmun,aes(MAS,CC,colour=dep,size=`Votos Válidos`))+geom_point()
ggplot(bdmun,aes(MAS,CC))+geom_point()
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")
ggplot(bdmun,aes(MAS,CC))+geom_point(aes(colour=dep))
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")
ggplot(bdmun,aes(MAS,CC))+geom_point(aes(colour=dep))
ggplot(bdmun,aes(MAS,CC))
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")
ggplot(bdmun,aes(MAS,CC))+geom_point()
ggplot(bdmun,aes(MAS,CC))+geom_point()+facet_wrap(~dep)
ggplot(bdmun,aes(MAS,CC))+geom_point()+facet_wrap(~dep+pro)
ggplot(bdmun,aes(MAS,CC))+geom_point()+facet_wrap(~dep)
ggplot(bdmun,aes(MAS,CC))+geom_point(colours="blue")+facet_wrap(~dep)
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+facet_wrap(~dep)
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+facet_grid(~dep)
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+facet_grid(~dep,nrow=2)
?facet_grid()
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+facet_grid(~dep,rows=2)
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+facet_wrap()
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+facet_wrap(~dep)
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+geom_smooth()+facet_wrap(~dep)
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+geom_smooth()
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+geom_smooth(method = "lm")
ggplot(bdmun,aes(CC,dep))+geom_point()
ggplot(bdmun,aes(dep,CC))+geom_point()
ggplot(bdmun,aes(dep,CC))+geom_boxplot()
ggplot(bdmun,aes(dep,CC))+geom_violin()
ggplot(bdmun,aes(dep,CC))+geom_jilter()
ggplot(bdmun,aes(dep,CC))+geom_jitter()
ggplot(bdmun,aes(dep,CC))+geom_jitter()
ggplot(bdmun,aes(CC,dep))+geom_jitter()
ggplot(bdmun,aes(dep,CC))+geom_jitter()
ggplot(bdmun,aes(CC))+geom_jitter()
ggplot(bdmun,aes(dep,CC))+geom_jitter()
ggplot(bdmun,aes(dep,CC))+geom_violin()
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+geom_smooth(method = "lm")
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+geom_smooth()+facet_wrap(~dep)
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+geom_smooth()+facet_wrap(~dep)
p5<-ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+geom_smooth()+facet_wrap(~dep)
p5+xlim(0,100)
p5<-ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+geom_smooth()
p5<-ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+geom_smooth()
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+xlim(0,100)
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+xlim(0,100)+
ylim(0,100)
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+xlim(0,100)+
ylim(0,100)+xlab("Frente 1")
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+xlim(0,100)+
ylim(0,100)+xlab("Organización Política: MAS")
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+xlim(0,100)+
ylim(0,100)+xlab("Organización Política: MAS")+xlab("Organización Política: CC")
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+xlim(0,100)+
ylim(0,100)+xlab("Organización Política: MAS")+ylab("Organización Política: CC")
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+xlim(0,100)+
ylim(0,100)+xlab("Organización Política: MAS")+ylab("Organización Política: CC")+
title("MAS vs CC, elecciones 20 octubre 2019")
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue")+xlim(0,100)+
ylim(0,100)+xlab("Organización Política: MAS")+ylab("Organización Política: CC")+
ggtitle("MAS vs CC, elecciones 20 octubre 2019")
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue",size=2)+xlim(0,100)+
ylim(0,100)+xlab("Organización Política: MAS")+ylab("Organización Política: CC")+
ggtitle("MAS vs CC, elecciones 20 octubre 2019")
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="blue",size=2,alpha=1/3)+xlim(0,100)+
ylim(0,100)+xlab("Organización Política: MAS")+ylab("Organización Política: CC")+
ggtitle("MAS vs CC, elecciones 20 octubre 2019")
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="brown",size=2,alpha=1/3)+xlim(0,100)+
ylim(0,100)+xlab("Organización Política: MAS")+ylab("Organización Política: CC")+
ggtitle("MAS vs CC, elecciones 20 octubre 2019")
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="brown",size=2,alpha=1/3)+xlim(0,100)+
ylim(0,100,size=2)+xlab("Organización Política: MAS")+ylab("Organización Política: CC")+
ggtitle("MAS vs CC, elecciones 20 octubre 2019")
?ylim
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="brown",size=2,alpha=1/3)+xlim(0,100)+
ylim(0,100,cex=2)+xlab("Organización Política: MAS")+ylab("Organización Política: CC")+
ggtitle("MAS vs CC, elecciones 20 octubre 2019")
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="brown",size=2,alpha=1/3)+xlim(0,100)+
ylim(0,100)+xlab("Organización Política: MAS")+ylab("Organización Política: CC")+
ggtitle("MAS vs CC, elecciones 20 octubre 2019")
?ggtitle()
ggplot(bdmun,aes(MAS,CC))+geom_point(colour="brown",size=2,alpha=1/3)+xlim(0,100)+
ylim(0,100)+xlab("Organización Política: MAS")+ylab("Organización Política: CC")+
ggtitle("MAS vs CC, elecciones 20 octubre 2019")
aggregate(bdp$MAS,by=list(bdp$Departamento,bdp$Provincia,bdp$Municipio),quantile)
table(y)
y<-rbinom(1000,10,0.3)
table(y)
t1<-table(y)
length(y)
table(y,y)
library(knitr)
table(y,y)
t1<-table(y,y)
kable(t1)
?kable
library(DT)
cars
install.packages("flexdashboard")
matrix(1:10,2,5)
?flexdashboard::flex_dashboard()
library(flexdashboard)
load(url("https://github.com/AlvaroLimber/EST-384/raw/master/data/eh19.RData"))
table(eh19p$area)
barplot(table(eh19p$area))
plot(density(eh19p$ylab))
plot(density(eh19p$ylab,na.rm=T))
library(ggplot2)
library(ggplot2)
ggplot(eh19p,aes(x=ylab))+geom_boxplot()
ggplot(eh19p,aes(x=ylab,y=depto))+geom_boxplot()
table(eh19p$depto,eh19p$area)
library(knitr)
kable(table(eh19p$depto,eh19p$area))
14*31
#desde CRAN
install.packages("rvest")
library(rvest)
library(help=rvest)
library(rvest)
?read_html()
bs1<-read_html("https://www.boliviasegura.gob.bo/index.php")
bs2<-read_html("https://www.boliviasegura.gob.bo/datos.php")
View(bs1)
html_nodes(bs1,".casos")
aux<-html_nodes(bs1,".casos")
html_text(aux)
casos<-html_text(aux)
aux
aux<-html_nodes(bs1,".casos")
casos<-html_text(aux)
aux<-html_nodes(bs1,".recuperados")
recup<-html_text(aux)
aux<-html_nodes(bs1,".decesos")
muerte<-html_text(aux)
casos
recup
muerte
as.numeric(casos)
html_nodes(bs1,".card-text")
html_text(html_nodes(bs1,".card-text"))
html_table(bs1)
tbs<-html_table(bs2)
tbs<-html_table(bs2,fill = T)
View(tbs)
tbs[[12]]
mun<-tbs[[12]]
table(mun$`Nivel Actual`)
table(mun$`Nivel Actual`,mun$`Nivel Anterior`)
table(mun$`Nivel Anterior`,mun$`Nivel Actual`)
html_nodes(bg2,"#graficoLinha")
html_nodes(bs2,"#graficoLinha")
sh<-read_html("https://howiebaek.shinyapps.io/nhl-pbp/?_ga=2.128120332.1075452628.1602712085-476345145.1602533869")
html_table(sg)
html_table(sh)
a<-html_table(sh)
View(sh)
html_nodes(sh,"#DataTables_Table_0_wrapper")
html_nodes(sh,".dt-right")
View(sh)
edit(sh)
library(rvest)
library(rvest)
bs1<-read_html("https://www.boliviasegura.gob.bo/index.php")
bs2<-read_html("https://www.boliviasegura.gob.bo/datos.php")
aux<-html_nodes(bs1,".casos")
casos<-html_text(aux)
casos
aux<-html_nodes(bs1,".recuperados")
recup<-html_text(aux)
aux<-html_nodes(bs1,".decesos")
muerte<-html_text(aux)
html_text(html_nodes(bs1,".card-text"))
tbs<-html_table(bs2,fill = T)
View(tbs)
mun<-tbs[[12]]
mun
table(mun$`Nivel Anterior`,mun$`Nivel Actual`)
recup
muerte
tbs[[2]]
t1<-tbs[[2]]
c(casos, recup,muerte)
global<-c(casos, recup,muerte)
t1
str(t1)
t1$Acumulado
nchar(t1$Acumulado)
t1$Acumulado
substr(t1$Acumulado,1,3)
grep("53",t1$Acumulado)
gsub("53","XX",t1$Acumulado)
gsub(",","",t1$Acumulado)
gsub(",","",t1$Acumulado)
gsub(",","",t1$Acumulado)
gsub(",","",t1$Acumulado)
gsub(",","",t1$Acumulado)
gsub(",","",t1$Acumulado)
as.numeric(gsub(",","",t1$Acumulado))
t1
t1$Acumulado<-as.numeric(gsub(",","",t1$Acumulado))
t1$Decesos<-as.numeric(gsub(",","",t1$Decesos))
t1$Recuperados<-as.numeric(gsub(",","",t1$Recuperados))
t1
str(t1)
library(ggplot2)
ggplot(t1,aes(Acumulado,Decesos))+geom_point()
### worldometers
wm<-read_html("https://www.worldometers.info/coronavirus/")
View(wm)
tabla<-html_table(wm)
View(tabla)
tabla[[1]]
t2<-tabla[[1]]
t2
str(t2)
t2$`Country,Other`
t2$Continent
t2$`#`
is.na(t2$`#`)
t2
t2[1,]
t2[c(F,T),]
t2[T,]
is.na(t2$`#`)
aux<-is.na(t2$`#`)
t2[aux,]
aux
t2[!aux,]
t2<-t2[!aux,]
t2
str(t2)
names(t2)
for(i in c(3:15,17:19)){
print(i)
}
i<-3
t2[,i]
gsub(",","",t2[,i])
as.numeric(gsub(",","",t2[,i]))
?gsub
for(i in c(3:15,17:19)){
print(i)
t2[,i]<-gsub("+","",t2[,i])
t2[,i]<-as.numeric(gsub(",","",t2[,i]))
}
str(t2)
t2$`Tot Cases/1M pop`
ggplot(t2, aes(`Tot Cases/1M pop`,`Tests/1M pop`))+geom_points()
ggplot(t2, aes(`Tot Cases/1M pop`,`Tests/1M pop`))+geom_point()
ggplot(t2, aes(`Tot Cases/1M pop`,`Tests/1M pop`,fill=Continent))+geom_point()
ggplot(t2, aes(`Tot Cases/1M pop`,`Tests/1M pop`,))+geom_point()+facet_wrap(~Continent)
ultra<-read_html("https://www.ultracasas.com/buscar/casa-en-venta--en--la-paz---la-paz?page=1")
View(ultra)
html_nodes(ultra,".line-height-30px")
html_text(html_nodes(ultra,".line-height-30px"))
html_nodes(ultra,".text-ellipsis")
html_text(html_nodes(ultra,".text-ellipsis"))
html_text(html_nodes(ultra,"h4"))#precio
html_nodes(ultra,".icon-default-color")#metros, dormitorios, baños
html_text(html_nodes(ultra,".icon-default-color"))#metros, dormitorios, baños
ultra<-read_html("https://www.ultracasas.com/buscar/casa-en-venta--en--la-paz---la-paz?page=2")
html_text(html_nodes(ultra,".line-height-30px"))#titulo
html_text(html_nodes(ultra,".text-ellipsis"))#zona
html_text(html_nodes(ultra,"h4"))#precio
html_text(html_nodes(ultra,".icon-default-color"))#metros, dormitorios, baños
27*12
html_text(html_nodes(ultra,".line-height-30px"))#titulo
html_text(html_nodes(ultra,".line-height-30px"))[-1] #titulo
aux1<-html_text(html_nodes(ultra,".line-height-30px"))[-1] #titulo
html_text(html_nodes(ultra,".text-ellipsis"))#zona
#zona
html_text(html_nodes(ultra,".text-ellipsis"))
#zona
html_text(html_nodes(ultra,".text-ellipsis"))[-1]
#zona
html_text(html_nodes(ultra,".text-ellipsis"))[-1][seq(2,24,2)]
html_text(html_nodes(ultra,"h4"))#precio
#precio
html_text(html_nodes(ultra,"h4"))[-c(1:2,15:17)]
#precio
aux3<-html_text(html_nodes(ultra,"h4"))[-c(1:2,15:17)]
html_text(html_nodes(ultra,".icon-default-color"))#metros, dormitorios, baños
aux<-html_text(html_nodes(ultra,".icon-default-color"))#metros, dormitorios, baños
aux[seq(1,36,3)]#dormitorios
aux4<-aux[seq(1,36,3)]#dormitorios
aux5<-aux[seq(2,36,3)]#baños/duchas
aux5
aux6<-aux[seq(3,36,3)]#metros2
data.frame(titulo=aux1,zona=aux2,precio=aux3,bed=aux4,bath=aux5,m2=aux6)
#zona
aux2<-html_text(html_nodes(ultra,".text-ellipsis"))[-1][seq(2,24,2)]
#precio
aux3<-html_text(html_nodes(ultra,"h4"))[-c(1:2,15:17)]
#metros, dormitorios, baños
aux<-html_text(html_nodes(ultra,".icon-default-color"))
aux4<-aux[seq(1,36,3)]#dormitorios
aux5<-aux[seq(2,36,3)]#baños/duchas
aux6<-aux[seq(3,36,3)]#metros2
data.frame(titulo=aux1,zona=aux2,precio=aux3,bed=aux4,bath=aux5,m2=aux6)
bd1<-data.frame(titulo=aux1,zona=aux2,precio=aux3,bed=aux4,bath=aux5,m2=aux6)
#base original
bd0<-data.frame(titulo=aux1,zona=aux2,precio=aux3,bed=aux4,bath=aux5,m2=aux6)
i<-2
i<-2
url<-paste0("https://www.ultracasas.com/buscar/casa-en-venta--en--la-paz---la-paz?page=",i)
url
i<-20
url<-paste0("https://www.ultracasas.com/buscar/casa-en-venta--en--la-paz---la-paz?page=",i)
url
for(i in 2:26){
www<-paste0("https://www.ultracasas.com/buscar/casa-en-venta--en--la-paz---la-paz?page=",i)
ultra<-read_html(www)
#titulo
aux1<-html_text(html_nodes(ultra,".line-height-30px"))[-1] #zona
aux2<-html_text(html_nodes(ultra,".text-ellipsis"))[-1][seq(2,24,2)]
#precio
aux3<-html_text(html_nodes(ultra,"h4"))[-c(1:2,15:17)]
#metros, dormitorios, baños
aux<-html_text(html_nodes(ultra,".icon-default-color"))
aux4<-aux[seq(1,36,3)]#dormitorios
aux5<-aux[seq(2,36,3)]#baños/duchas
aux6<-aux[seq(3,36,3)]#metros2
#base inicial
bd1<-data.frame(titulo=aux1,zona=aux2,precio=aux3,bed=aux4,bath=aux5,m2=aux6)
bd0<-rbind(bd0,bd1)
}
View(bd0)
bd0
View(bd0)

mutate(totper=1,m18=(edad<=18),m65=(edad>=65)) %>%
select(folio,totper,edad,m18,m65) %>%
group_by(folio) %>% summarise(totper=sum(totper),sum(m18)/totper,sum(m65)/totper)
2/6
1/6
1:100>50
mean(1:100>50)
eh19p %>% rename(edad=s02a_03) %>%
mutate(totper=1,m18=(edad<=18),m65=(edad>=65)) %>%
select(folio,totper,edad,m18,m65) %>%
group_by(folio) %>% summarise(totper=sum(totper),mean(m18),mean(m65))
eh19p %>% rename(edad=s02a_03) %>%
mutate(totper=1,m18=(edad<=18),m65=(edad>=65)) %>%
select(folio,totper,edad,m18,m65) %>%
group_by(folio) %>% summarise(totper=sum(totper),m18=mean(m18),m65=mean(m65))
aux<-eh19p %>% rename(edad=s02a_03) %>%
mutate(totper=1,m18=(edad<=18),m65=(edad>=65)) %>%
select(folio,totper,edad,m18,m65) %>%
group_by(folio) %>% summarise(totper=sum(totper),m18=mean(m18),m65=mean(m65))
bd<-eh19p %>% rename(sexo=s02a_02,edad=s02a_03,relpar=s02a_05) %>%
filter(relpar=="1.JEFE O JEFA DEL HOGAR") %>% select(folio,sexo,edad,ylab)
bd<-eh19p %>% rename(sexo=s02a_02,edad=s02a_03,relpar=s02a_05) %>%
filter(relpar=="1.JEFE O JEFA DEL HOGAR") %>% select(folio,sexo,edad,ylab)
aux<-eh19p %>% rename(edad=s02a_03) %>%
mutate(totper=1,m18=(edad<=18),m65=(edad>=65)) %>%
select(folio,totper,edad,m18,m65) %>%
group_by(folio) %>% summarise(totper=sum(totper),m18=mean(m18),m65=mean(m65))
aux
bd
names(bd)
names(aux)
bd<-merge(bd,aux)
head(bd)
bd %>% group_by(sexo) %>% summarise(prom_ylab=mean(ylab,na.rm=T),
prom_edad=mean(edad),mean(m18),mean(m65),mean(totper))
bd %>% group_by(sexo) %>% summarise(prom_ylab=mean(ylab,na.rm=T),
prom_edad=mean(edad),mean(m18),mean(m65),mean(totper))
bd %>% group_by(sexo) %>% summarise(prom_ylab=mean(ylab,na.rm=T),
prom_edad=mean(edad),m18=mean(m18),m65=mean(m65),totper=mean(totper))
eh19p %>% rename(sexo=s02a_02) %>% mutate(mujer=(sexo=="2.Mujer")) %>%
select(folio,sexo,mujer)
eh19p %>% rename(sexo=s02a_02) %>% mutate(mujer=(sexo=="2.Mujer")) %>%
select(folio,sexo,mujer)
eh19p %>% rename(sexo=s02a_02) %>% mutate(mujer=(sexo=="2.Mujer"),log_ylab=log(ylab)) %>%
select(folio,sexo,mujer,log_ylab)
eh19p %>% rename(sexo=s02a_02) %>% mutate(mujer=(sexo=="2.Mujer"),log_ylab=log(ylab)) %>%
select(folio,sexo,mujer,log_ylab)
bd<-eh19p %>% rename(sexo=s02a_02,edad=s02a_03,relpar=s02a_05) %>%
filter(relpar=="1.JEFE O JEFA DEL HOGAR") %>% select(folio,sexo,edad,ylab,area)
aux<-eh19p %>% rename(edad=s02a_03) %>%
mutate(totper=1,m18=(edad<=18),m65=(edad>=65)) %>%
select(folio,totper,edad,m18,m65) %>%
group_by(folio) %>% summarise(totper=sum(totper),m18=mean(m18),m65=mean(m65))
bd<-merge(bd,aux)
names(bd)
bd %>% group_by(sexo,area) %>% summarise(prom_ylab=mean(ylab,na.rm=T),
prom_edad=mean(edad),m18=mean(m18),m65=mean(m65),totper=mean(totper))
bd %>% group_by(sexo,area) %>% summarise(prom_ylab=mean(ylab,na.rm=T),
prom_edad=mean(edad),m18=mean(m18),m65=mean(m65),totper=mean(totper))
bd
x<-1:100
is.integer(x)
is.integer(2.4)
#* La suma de los pares
x%%2
#* La suma de los pares
x%%2==0
#* La suma de los pares
x[x%%2==0]
#* La suma de los pares
sum(x[x%%2==0])
generate_primes
x<-17
x%%1
x%%2
x%%3
x%%4
x%%5
x%%5
x%%6
x%%7
x<-17
r<-0
for(i in 2:(x-1)){
if(x%%i==0){
r<-1
}
}
r
x<-18
r<-0
for(i in 2:(x-1)){
if(x%%i==0){
r<-1
}
}
r
r<-T
x<-18
r<-T
for(i in 2:(x-1)){
if(x%%i==0){
r<-F
}
}
r
x<-29
r<-T
for(i in 2:(x-1)){
if(x%%i==0){
r<-F
}
}
r
x<-2
r<-T
for(i in 2:(x-1)){
if(x%%i==0){
r<-F
}
}
r
#* Confirme si es un vector de números enteros
#* La suma de los pares
#* La suma de los primos
#* Coeficiente de variación
#* Desviación media
esprimo<-function(x){
r<-T
for(i in 2:(x-1)){
if(x%%i==0){
r<-F
}
}
if(x==2){
r<-T
}
return(r)
}
esprimo(23)
esprimo(26)
esprimo(233)
esprimo(232)
esprimo(2320)
esprime(c(10,5,3))
esprimo(c(10,5,3))
#* La suma de los primos
sumpri<-0
for(i in x){
if(esprimo(i)){
sumpri<-sumpri+i
}
}
sumpri
x<-1:100
#* La suma de los primos
sumpri<-0
for(i in x){
if(esprimo(i)){
sumpri<-sumpri+i
}
}
if(esprimo(i)==T){
sumpri<-sumpri+i
}
#* Confirme si es un vector de números enteros
#* La suma de los pares
#* La suma de los primos
#* Coeficiente de variación
#* Desviación media
esprimo<-function(x){
r<-T
for(i in 2:(x-1)){
if(x%%i==0){
r<-F
}
}
if(x==2){
r<-T
}
return(r)
}
esprimo(2320)
#* La suma de los primos
sumpri<-0
#* La suma de los primos
x<-c(2,3,4,5)
sumpri<-0
for(i in x){
print(i)
if(esprimo(i)==T){
sumpri<-sumpri+i
}
}
sumpri
x<-1:100
for(i in x){
print(i)
if(esprimo(i)==T){
sumpri<-sumpri+i
}
}
sumpri<-0
for(i in x){
print(i)
if(esprimo(i)==T){
sumpri<-sumpri+i
}
}
#* Confirme si es un vector de números enteros
#* La suma de los pares
#* La suma de los primos
#* Coeficiente de variación
#* Desviación media
esprimo<-function(x){
if(x!=1){
r<-T
for(i in 2:(x-1)){
if(x%%i==0){
r<-F
}
}
if(x==2){
r<-T
}
return(r)
} else {
r<-F
}
}
esprimo(1)
#* Confirme si es un vector de números enteros
#* La suma de los pares
#* La suma de los primos
#* Coeficiente de variación
#* Desviación media
esprimo<-function(x){
if(x!=1){
r<-T
for(i in 2:(x-1)){
if(x%%i==0){
r<-F
}
}
if(x==2){
r<-T
}
return(r)
} else {
r<-F
return(r)
}
}
esprimo(1)
x<-1:100
sumpri<-0
for(i in x){
print(i)
if(esprimo(i)==T){
sumpri<-sumpri+i
}
}
sumpri
#* La suma de los primos
x<-c(2,3,4,5)
sumpri<-0
for(i in x){
print(i)
if(esprimo(i)==T){
sumpri<-sumpri+i
}
}
#* La suma de los primos
x<-c(2,3,4,5,17)
sumpri<-0
for(i in x){
print(i)
if(esprimo(i)==T){
sumpri<-sumpri+i
}
}
sumpri
#* Coeficiente de variación
sd(x)/mean(x)
#* Coeficiente de variación
cvx<-sd(x)/mean(x)
#* Desviación media
x-mean(x)
#* Desviación media
abs(x-mean(x))
#* Desviación media
mean(abs(x-mean(x)))
#* Desviación media
sum(abs(x-mean(x)))
#* Desviación media
sum(abs(x-mean(x)))/5
#* Desviación media
mean(abs(x-mean(x)))
fx<-function(x){
# Confirme si es un vector de números enteros
if(is.integer(x)){
print("ES ENTERO")
} else {
print("NO ES ENTERO")
#break
}
#* La suma de los pares
spar<-sum(x[x%%2==0])
#* La suma de los primos
sumpri<-0
for(i in x){
if(esprimo(i)==T){
sumpri<-sumpri+i
}
}
#* Coeficiente de variación
cvx<-sd(x)/mean(x)
#* Desviación media
dm<-mean(abs(x-mean(x)))
#################
return(list(spar,sumpri,cvx,dm))
}
fx(c(1:10))
1:10
library(knitr)
library(packagefinder)
library(xtable)
findPackage(c("API","scrape"),limit.results=-1)
#desde CRAN
install.packages("rvest")
#la versión en desarrollo desde github
devtools::install_github("tidyverse/rvest")
library(rvest)
infocasa<-read_html("https://www.infocasas.com.bo/venta/inmuebles/la-paz")
View(infocasa)
xml_child(infocasa, 1)
infocasa<-read_html("https://www.infocasas.com.bo/venta/inmuebles/la-paz")
edit(infocasa)
edit(infocasa)
View(infocasa)
html_nodes(infocasa,"strong")
html_nodes(infocasa,"strong")
node<-html_nodes(infocasa,"strong")
html_text(node)
price<-html_text(node)
price[3:23]
price[3:23]
infocasa<-read_html("https://www.infocasas.com.bo/venta/inmuebles/la-paz/pagina1")
node<-html_nodes(infocasa,"strong")
price<-html_text(node)
price[3:23]
infocasa<-read_html("https://www.infocasas.com.bo/venta/inmuebles/la-paz/pagina2")
node<-html_nodes(infocasa,"strong")
price<-html_text(node)
price
price[3:23]
infocasa<-read_html("https://www.infocasas.com.bo/venta/inmuebles/la-paz/pagina10")
node<-html_nodes(infocasa,"strong")
price<-html_text(node)
price[3:23]
infocasa<-read_html("https://www.infocasas.com.bo/venta/inmuebles/la-paz/pagina16")
node<-html_nodes(infocasa,"strong")
price<-html_text(node)
price
price[3:23]
html_nodes(infocasa,".ant-col-xxl-8")
edit(html_nodes(infocasa,".ant-col-xxl-8"))
infocasa<-read_html("https://www.infocasas.com.bo/venta/inmuebles/la-paz/pagina1")
node<-html_nodes(infocasa,"strong")
price<-html_text(node)
price[3:23]
#colección de todos los precios
for(i in 1:16){
url<-paste0("https://www.infocasas.com.bo/venta/inmuebles/la-paz/pagina",i)
print(url)
}
#colección de todos los precios
for(i in 1:16){
url<-paste0("https://www.infocasas.com.bo/venta/inmuebles/la-paz/pagina",i)
print(url)
}
#colección de todos los precios
price<-NULL
#colección de todos los precios
price<-NULL
for(i in 1:16){
url<-paste0("https://www.infocasas.com.bo/venta/inmuebles/la-paz/pagina",i)
infocasa<-read_html(url)
node<-html_nodes(infocasa,"strong")
aux<-html_text(node)
price<-c(price,aux[3:23])
}
price
price<-price[1:328]
price
?gsub(price)
gsub("U$S ","",price)
gsub("U$S ","",price)
gsub("U$S ","",price)
gsub("U$S","",price)
gsub("U$S","",price,fixed = T)
gsub("U$S ","",price,fixed = T)
gsub("U$S ","",price,fixed = T)
price<-gsub("U$S ","",price,fixed = T)
gsub(",","",price,fixed = T)
price<-gsub(",","",price,fixed = T)
class(price)
class(price)
price<-as.numeric(price)
price
hist(price)
hist(price)
153/21
price>1000 & price<10000000
price
na.omit(price)
price<-na.omit(price)
price[price>1000 & price<10000000]
price<-price[price>1000 & price<10000000]
hist(price)
hist(price)
summary(price)
html_nodes(infocasa,".ant-typography-ellipsis-single-line")
lr<-read_html("https://www.la-razon.com/")
node<-html_nodes(lr,".title")
node
html_text(node)
covid<-read_html("https://www.worldometers.info/coronavirus/")
tab<-html_table(covid)
View(tab)
tab[[1]]
tab[[2]]
tab[[3]]
tab[[2]]
tab[[1]]
1713
1
1/13
179
1/9
0.4-1/9
covid<-read_html("https://www.worldometers.info/coronavirus/")
library(rvest)
covid<-read_html("https://www.worldometers.info/coronavirus/")
tab<-html_table(covid)
tab[[1]]#hoy
library(rvest)
covid<-read_html("https://www.worldometers.info/coronavirus/")
tab<-html_table(covid)
tab[[1]]#hoy
bd<-tab[[1]]#hoy
View(bd)
library(dplyr)
names(bd)
names(bd)
names(bd)[1]<-"id"
names(bd)
names(bd)[12]<-"muertesM"
names(bd)
names(bd)[2]<-"pais"
bd %>% filter(is.na(id)==F)
bd %>% filter(is.na(id)==F) %>% select(pais,muertesM)
bd %>% filter(is.na(id)==F) %>% select(pais,muertesM) %>% mutate(aux=gsub(",","",muertesM))
bd %>% filter(is.na(id)==F) %>% select(pais,muertesM) %>% mutate(aux=as.numeric(gsub(",","",muertesM)))
bd %>% filter(is.na(id)==F) %>% select(pais,muertesM) %>% mutate(muertesM=as.numeric(gsub(",","",muertesM)))
t1<-bd %>% filter(is.na(id)==F) %>% select(pais,muertesM) %>% mutate(muertesM=as.numeric(gsub(",","",muertesM)))
View(t1)
names(bd)
t1<-bd %>% filter(is.na(id)==F) %>% select(pais,muertesM) %>% mutate(muertesM=as.numeric(gsub(",","",muertesM)))
t1
t1<-na.omit(t1)
t1
order(t1$muertesM)
t1[order(t1$muertesM),]
t1<-t1[order(t1$muertesM),]
plot(1:204,t1$muertesM)
plot(1:204,t1$muertesM,type="h")
tail(t1)
#vacunas
vc<-read.csv("https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/vaccinations/vaccinations.csv")
head(vc)
str(cv)
str(vc)
vc$date
unique(vc$date)
vc$date
library(lubridate)
vc$date<-ymd(vc$date)
str(vc)
library(ggplot2)
View(vc)
names(vc)
ggplot(vc,aes(date,daily_vaccinations))+geom_point()
ggplot(vc,aes(date,daily_vaccinations))+geom_point()
View(vc)
ggplot(vc %>% filter(iso_code=="AFG"),aes(date,daily_vaccinations))+geom_point()
library(ggplot2)
ggplot(vc %>% filter(iso_code=="AFG"),aes(date,daily_vaccinations))+geom_point()
names(bd)
names(vc)
vc %>% filter(iso_code=="AFG") %>% select(date,daily_vaccinations)
vc %>% filter(iso_code=="AFG") %>% select(date,daily_vaccinations) %>% plot()
vc %>% filter(iso_code=="AFG") %>% select(date,daily_vaccinations) %>% plot()
vc %>% filter(iso_code=="BOL") %>% select(date,daily_vaccinations) %>% plot()
vc %>% filter(iso_code=="BOL") %>% select(date,daily_vaccinations) %>% plot(type="b")
vc %>% filter(iso_code=="BOL") %>% select(date,daily_vaccinations) %>% plot(type="b",col="red")
ggplot(vc %>% filter(iso_code=="AFG"),aes(date,daily_vaccinations))
ggplot(vc %>% filter(iso_code=="AFG"),aes(date,daily_vaccinations))+geom_line()
ggplot(vc %>% filter(iso_code=="BOL"),aes(date,daily_vaccinations))+geom_line()
vc %>% filter(iso_code=="CHL") %>% select(date,daily_vaccinations) %>% plot(type="b",col="red")
bookdown::clean_book(TRUE)
bookdown::render_book("index.Rmd", "bookdown::gitbook")
